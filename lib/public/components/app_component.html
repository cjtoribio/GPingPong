<h1>G Ping Pong</h1>

<material-tab-panel>
    <material-tab label="Users" >
        <div [ngStyle]="{'flex-direction': 'column',
                         'width': '100%'}">
            <div>
                <material-input label="Search User"
                                [(ngModel)]="searchCriteria"
                                trailingGlyph="search">

                </material-input>
            </div>
            <div [ngStyle]="{
                         'overflow': 'scroll',
                         'max-height': '300px'}">
                <div *ngFor="let user of (getUsers() | filter:searchCriteria)"
                     [ngStyle]="{'border-bottom': '1px solid #aaa',
                                 'padding': '10px'}">
                    <rated-text [score]="user.rating.score">{{user.name}}</rated-text>
                    <div [ngStyle]="{'float': 'right'}">
                        <rated-text [score]="user.rating.score" >
                            <b>{{user.rating.score | number:'0.1-1'}}</b>
                        </rated-text>
                        ({{user.rating.gamesWon | number:'3.0'}} / {{user.rating.gamesPlayed - user.rating.gamesWon | number:'3.0'}})
                    </div>
                </div>
            </div>
        </div>
    </material-tab>
    <material-tab label="Matches">
        <div [ngStyle]="{'flex-direction': 'column',
                         'width': '100%'}">
            <div>
                <material-input label="Search User"
                                [(ngModel)]="searchCriteria"
                                trailingGlyph="search">

                </material-input>
            </div>
            <div [ngStyle]="{
                         'overflow': 'scroll',
                         'max-height': '300px'}">
                <div *ngFor="let match of (getMatches() | filter:searchCriteria)"
                     [ngStyle]="{'border-bottom': '1px solid #aaa',
                                 padding: '10px',
                                 overflow: 'auto',
                                 position: 'relative'}">
                    <center>
                        <rated-text [score]="match.player1.rating.score"
                                    [ngStyle]="{position: 'absolute', left:'5px'}">{{match.player1.name}}</rated-text>
                        <span>{{match.score1}} - {{match.score2}}</span>
                        <rated-text [score]="match.player2.rating.score"
                                    [ngStyle]="{position: 'absolute', right:'5px'}">{{match.player2.name}}</rated-text>
                    </center>
                </div>
            </div>
        </div>
    </material-tab>
</material-tab-panel>

<material-fab raised
              style="float:right;margin:10px;"
              [class]="'blue'"
              (click)="newMatchDialog.open()"
              aria-label="add">
    <glyph icon="add"></glyph>
</material-fab>

<new-match-dialog #newMatchDialog>
</new-match-dialog>
